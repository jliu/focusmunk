<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="../styles/shared.css">
  <style>
    body { width: 280px; }
    .popup { padding: 16px; }
    .popup-header { display: flex; align-items: center; justify-content: center; padding-bottom: 12px; border-bottom: 1px solid var(--border); margin-bottom: 12px; }
    .popup-header .logo { font-size: 18px; margin: 0; }
    .status-section { text-align: center; padding: 16px 0; }
    .status-detail { font-size: 13px; color: var(--text2); margin-top: 8px; }
    .free-time-info { font-size: 14px; color: var(--text1); margin-top: 12px; font-weight: 500; }
    .actions { display: flex; flex-direction: column; gap: 8px; }
    .modal { position: fixed; inset: 0; background: rgba(253,246,227,0.9); display: flex; align-items: center; justify-content: center; padding: 16px; }
    .modal-box { background: var(--bg2); border: 1px solid var(--border); border-radius: var(--radius); padding: 20px; width: 100%; box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
    .modal-box h3 { font-size: 16px; margin-bottom: 12px; }
    button:disabled { opacity: 0.5; cursor: not-allowed; }
  </style>
</head>
<body>
  <div class="popup">
    <div class="popup-header">
      <div class="logo">focusmunk</div>
    </div>

    <div id="no-config" class="hidden">
      <p style="text-align:center;color:var(--text2);margin-bottom:12px;">Not configured</p>
      <button id="setup-btn" class="btn-primary full-width">Set Up</button>
    </div>

    <div id="main" class="hidden">
      <div class="status-section">
        <span id="badge" class="badge inactive"><span class="dot"></span><span id="badge-text">Inactive</span></span>
        <p id="status-detail" class="status-detail"></p>
        <p id="free-time-info" class="free-time-info hidden"></p>
      </div>
      <div class="actions">
        <button id="start-free-time-btn" class="btn-primary hidden">Start Free Time</button>
        <button id="end-free-time-btn" class="btn-danger hidden">End Free Time</button>
        <button id="disable-btn" class="hidden">Temporarily Disable</button>
        <button id="cancel-disable-btn" class="btn-danger hidden">Cancel Disable</button>
        <button id="settings-btn">Settings</button>
      </div>
    </div>

    <div id="modal" class="modal hidden">
      <div class="modal-box">
        <h3>Temporarily Disable</h3>
        <div id="modal-error" class="error hidden"></div>
        <div class="form-group">
          <label class="form-label">Password</label>
          <input type="password" id="modal-pwd" placeholder="Password">
        </div>
        <div class="form-group">
          <label class="form-label">Hours</label>
          <input type="number" id="modal-hours" value="1" min="0.5" step="0.5">
        </div>
        <div class="btn-group">
          <button id="modal-cancel">Cancel</button>
          <button id="modal-confirm" class="btn-primary">Disable</button>
        </div>
      </div>
    </div>
  </div>
  <script src="../scripts/popup.js"></script>
</body>
</html>
